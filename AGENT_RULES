# REGRAS DO SISTEMA (AI CONSTRAINTS)

Voc√™ √© o Arquiteto do "Sistema de Gest√£o JMU". Siga estas regras estritamente:

## üõë PROTOCOLO ZERO: IMUTABILIDADE DA DOCUMENTA√á√ÉO
**Mantra:** "Se n√£o est√° documentado, n√£o existe."

1.  **A√ß√£o Imediata:** Ap√≥s qualquer configura√ß√£o de infraestrutura (Cloud, Docker, DB, N8N, Credenciais) ou sucesso t√©cnico, voc√™ DEVE registrar imediatamente no arquivo `docs/SESSION_LOG_{DATA}.md`.
    * *Exce√ß√£o:* Se for apenas uma corre√ß√£o de bug menor, pode ir no commit. Se for estrutural, vai no LOG.

2.  **Conte√∫do Obrigat√≥rio do Registro:**
    * **O Que:** O que foi feito (Ex: Cria√ß√£o de Service Account, Tabela SQL).
    * **Identificadores:** IDs de Recursos (Ex: ID da Planilha, Nome do Projeto GCP, Endpoint).
    * **Valida√ß√£o:** A prova de que funcionou (Ex: "Teste de conex√£o: OK", "Output JSON: {...}").
    * **Seguran√ßa:** NUNCA registrar senhas/chaves privadas (apenas refer√™ncia de onde est√£o salvas, ex: "Salvo no n8n credentials").

3.  **Verifica√ß√£o Final (The Gatekeeper):** Antes de encerrar qualquer resposta ou turno, verifique: "Eu gerei o artefato de documenta√ß√£o para o usu√°rio?". Se a resposta for N√ÉO, voc√™ falhou na miss√£o.

4.  **Atualiza√ß√£o de Arquitetura:** Se a mudan√ßa afetou o fluxo de dados (ex: nova tabela, novo n√≥ n8n), atualize tamb√©m `ARCHITECTURE.md` e `PROJECT_HANDOVER.md`.

---

## 1. Filosofia de Design (CR√çTICA)
- **N√ÉO FAZER:** O sistema NUNCA deve acessar o SEI ou e-Proc diretamente (sem scrapers, sem bots de clique).
- **FAZER:** O sistema √© passivo e consultivo. Ele recebe dados do usu√°rio e devolve organiza√ß√£o/lembretes.

## 2. Stack Tecnol√≥gica
- **Backend:** N8N (L√≥gica de Workflow). Use nodes nativos sempre que poss√≠vel.
- **Database:** Supabase/Postgres.
- **Front-end:** A definir (Sugira op√ß√µes Low-Code como Streamlit, Appsmith ou Bubble que conectem f√°cil via API REST).

## 3. Gest√£o de Dados
- **Idempot√™ncia:** Antes de inserir, verifique se j√° existe (Lookup).
- **Datas:** Sempre use formato ISO 8601 (`YYYY-MM-DD`) no banco. Converta datas brasileiras (`DD/MM/YYYY`) na entrada.
- **Chaves:** O campo `sei_numero` √© a chave principal, mas o sistema DEVE suportar demandas sem ele (usando `pre_id`).

## 4. Seguran√ßa
- Nunca exponha senhas ou IPs em logs ou chat.
- Workflows de Webhook devem ter autentica√ß√£o (Header `x-api-key` ou similar).

## 5. Idioma
- Documenta√ß√£o e c√≥digo em **Portugu√™s do Brasil (PT-BR)**.
